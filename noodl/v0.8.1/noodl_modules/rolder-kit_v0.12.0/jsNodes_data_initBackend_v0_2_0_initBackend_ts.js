(self.webpackChunkrolder_kit=self.webpackChunkrolder_kit||[]).push([["jsNodes_data_initBackend_v0_2_0_initBackend_ts"],{854423:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return r}});var i=t("530177"),o=t("815184");async function r(e){let{project:n,envVersion:t,debug:r}=window.Rolder;r>1&&console.time("Initialize performance");let u=(0,i.default)({project:n,envVersion:t});u.connect().then(()=>{window.Kuzzle=u,r>0&&console.log("Kuzzle initialized: "+n+"-"+t),r>1&&console.timeEnd("Initialize performance"),(0,o.default)().then(n=>{n?(e.sendSignalOnOutput("jwtValidationSucceed"),u?.auth.getCurrentUser().then(n=>e.setOutputs({userRole:n.content.role?.value}))):e.sendSignalOnOutput("jwtValidationFailed")})}).catch(e=>{console.error(e.message)})}},530177:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return o}});var i=t("695673");function o(e){return new i.Kuzzle(new i.WebSocket(`${e.project}.kuzzle.${e.envVersion}.rolder.app`,{port:443}))}}}]);
//# sourceMappingURL=jsNodes_data_initBackend_v0_2_0_initBackend_ts.js.map