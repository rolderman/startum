(self.webpackChunkrolder_kit=self.webpackChunkrolder_kit||[]).push([["jsNodes_data_mutate_update_v0_v0_2_0_update_ts"],{785528:function(t,e,u){"use strict";u.r(e),u.d(e,{default:function(){return d}});var a=u("123418"),r=u("550277"),d={update:t=>{let{updateItem:e,optimistic:u}=t._inputValues;(0,r.sendOutput)(t,"updating",!0),(0,a.default)(e,u).then(e=>{(0,r.sendOutput)(t,"updatedItem",e),(0,r.sendSignal)(t,"updated"),(0,r.sendOutput)(t,"updating",!1)})}}},501194:function(t,e,u){"use strict";u.r(e),u.d(e,{default:function(){return function t(e){let u={};if(e&&"object"==typeof e)return(0,r.default)(e,(e,r)=>{if("object"!=typeof r||Array.isArray(r))Array.isArray(r)?r.forEach(a=>{let r=t(a);r?.length&&(u[e]=u[e]?[...u[e],r]:[r])}):r&&(u[e]=r);else if(!(0,a.default)(r)){let d=t(r);!(0,a.default)(d)&&(u[e]=d)}}),u;if(e)return e;if(Array.isArray(e))throw Error(`It is array, object expected: ${e}`)}}});var a=u("939711"),r=u("309317")},123418:function(t,e,u){"use strict";u.r(e),u.d(e,{default:function(){return i}});var a=u("516244"),r=u("995929"),d=u("650887"),n=u("687803"),s=u("501194"),l=u("528957");let f=async(t,e)=>{let u;let{Kuzzle:f}=window,{dbClass:i,id:o,body:p}=t,c=(0,d.setOptions)(i),_=(0,n.dbClassVersion)(i),h=(0,s.default)(p);return(0,a.default)(`${_} update`,"time"),(0,a.default)([`${_} props: `,{dbClass:i,id:o,flushedBody:h,options:c}]),e&&(u=l.default(i,[{id:o,...h}])?.[0]),f.connect().then(()=>f.document.update((0,n.dbVersion)(),_,o,h,c).then(()=>((0,a.default)([`${_} updated: `,u]),(0,a.default)(`${_} update`,"timeEnd"),!e&&(u=l.default(i,[{id:o,...h}])?.[0]),u)).catch(t=>(0,r.default)({title:"Системная ошибка!",message:"Kuzzle update "+_+": "+t.message})))};var i=f}}]);
//# sourceMappingURL=jsNodes_data_mutate_update_v0_v0_2_0_update_ts.js.map