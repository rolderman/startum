{"version":3,"file":"jsNodes_data_mDeleteUsers_v0_1_0_mDeleteUsers_ts.js","sources":["./jsNodes/data/mDeleteUsers/v0.1.0/mDeleteUsers.ts","./libs/kuzzle/v.0.1.0/mDeleteUsers.ts"],"sourcesContent":["import mDeleteUsers from \"../../../../libs/kuzzle/v.0.1.0/mDeleteUsers\"\n\nexport default async function node(noodleNode: any) {\n    noodleNode.setOutputs({ deleting: true })\n    mDeleteUsers(noodleNode.inputs.deleteUserIds)\n        .then(() => {\n            noodleNode.setOutputs({ deleting: false })\n            noodleNode.sendSignalOnOutput('deleted')\n        })\n}","import ErrorHandler from '../../errorHandler/v0.1.0/ErrorHandler'\n\nconst mDeleteUsers = async (deleteUserIds: string[]) => {\n    const Kuzzle = window.Kuzzle\n    const { debug } = window.Rolder\n\n    if (debug > 0) console.time('mDeleteUsers time')\n    if (debug > 1) console.log(' props:', { deleteUserIds })\n\n    return Kuzzle.connect().then(() =>\n        Kuzzle.security.mDeleteUsers(deleteUserIds, { refresh: 'wait_for' })\n            .then((response: any) => {\n\n                if (debug > 1) console.log('mDeleteUsers:', response)\n                if (debug > 0) console.timeEnd('mDeleteUsers time')\n                return\n            })\n            .catch((error: any) => ErrorHandler({ title: 'Системная ошибка!', message: 'Kuzzle mDeleteUsers: ' + error.message }))\n    )\n}\n\nexport default mDeleteUsers"],"names":["node","noodleNode","setOutputs","deleting","inputs","deleteUserIds","then","sendSignalOnOutput","mDeleteUsers","Kuzzle","window","debug","Rolder","console","time","log","connect","security","refresh","response","timeEnd","catch","error","title","message"],"mappings":"6NAEe,eAAeA,EAAKC,CAAe,EAC9CA,EAAWC,UAAU,CAAC,CAAEC,SAAU,EAAK,GACvC,cAAaF,EAAWG,MAAM,CAACC,aAAa,EACvCC,IAAI,CAAC,KACFL,EAAWC,UAAU,CAAC,CAAEC,SAAU,EAAM,GACxCF,EAAWM,kBAAkB,CAAC,UAClC,EACR,C,qGCPA,IAAMC,EAAe,MAAOH,IACxB,IAAMI,EAASC,OAAOD,MAAM,CACtB,CAAEE,MAAAA,CAAK,CAAE,CAAGD,OAAOE,MAAM,CAK/B,OAHID,EAAQ,GAAGE,QAAQC,IAAI,CAAC,qBACxBH,EAAQ,GAAGE,QAAQE,GAAG,CAAC,UAAW,CAAEV,cAAAA,CAAc,GAE/CI,EAAOO,OAAO,GAAGV,IAAI,CAAC,IACzBG,EAAOQ,QAAQ,CAACT,YAAY,CAACH,EAAe,CAAEa,QAAS,UAAW,GAC7DZ,IAAI,CAAC,AAACa,IAECR,EAAQ,GAAGE,QAAQE,GAAG,CAAC,gBAAiBI,GACxCR,EAAQ,GAAGE,QAAQO,OAAO,CAAC,oBAEnC,GACCC,KAAK,CAAC,AAACC,GAAe,cAAa,CAAEC,MAAO,oBAAqBC,QAAS,wBAA0BF,EAAME,OAAO,AAAC,IAE/H,EAEA,MAAehB,C"}