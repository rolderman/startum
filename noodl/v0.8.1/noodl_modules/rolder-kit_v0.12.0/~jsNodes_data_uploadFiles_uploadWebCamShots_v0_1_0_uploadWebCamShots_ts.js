(self.webpackChunkrolder_kit=self.webpackChunkrolder_kit||[]).push([["~jsNodes_data_uploadFiles_uploadWebCamShots_v0_1_0_uploadWebCamShots_ts"],{721386:function(e,t,n){},363038:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return a}});var o=n("205631");async function a(e){let{envVersion:t,project:n,debug:a}=window.Rolder,s=e.inputs.uploadItems.map(e=>e.data),d=e.inputs.uploadFolder;e.setOutputs({uploading:!0}),a>0&&console.time("upload Webcam shots time");let u=new o.S3Client({region:"ru-central1",endpoint:"https://storage.yandexcloud.net/"+t+"/"+d,credentials:{accessKeyId:"YCAJES4b5ZqT9Mp_Hc5_o3NdR",secretAccessKey:"YCMkuACnCQfcvpZiGGAOUFsxnBC7PmZ8CKP0pA8Y"}});Promise.all(s.map(e=>(function(e){let t=function(e,t){for(var n=e.split(","),o=n[0].match(/:(.*?);/)[1],a=atob(n[1]),s=a.length,d=new Uint8Array(s);s--;)d[s]=a.charCodeAt(s);return new File([d],t,{type:o})}(e.data,e.name),a={Bucket:"rolder-"+n,Key:e.name,Body:t,ContentType:e.contentType},s=new o.PutObjectCommand(a);return u.send(s)})(e))).then(()=>{e.setOutputs({uploading:!1,uploadedUrls:s.map(e=>"https://storage.yandexcloud.net/rolder-"+n+"/"+t+"/"+d+"/"+e.name)}),e.sendSignalOnOutput("uploaded"),a>0&&console.timeEnd("upload Webcam shots time")})}}}]);
//# sourceMappingURL=~jsNodes_data_uploadFiles_uploadWebCamShots_v0_1_0_uploadWebCamShots_ts.js.map